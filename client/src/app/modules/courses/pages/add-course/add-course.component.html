<div class="add-course">
  <form [formGroup]="addForm" class="add-course-form" (ngSubmit)="onSubmit()">
    <h3 class="add-course-form__title">{{mode}} course</h3>

    <div class="add-course-form__field">
      <label class="add-course-form__label" for="title">Title:</label>
      <input
        type="text"
        formControlName="name"
        [class.has-error]="name.touched && name.invalid"
        class="add-course-form__title-input"
        name="title"
        placeholder="Add title">
      <div class="add-course-form__error" *ngIf="name.errors?.maxlength">*Title should not exceed 50 symbols</div>
      <div class="add-course-form__error" *ngIf="name.errors?.required && name.touched">*Title is required</div>
    </div>

    <div class="add-course-form__field">
      <label class="add-course-form__label" for="description">Description:</label>
      <textarea
        formControlName="description"
        class="add-course-form__description">
        [class.has-error]="description.touched && description.invalid"
        name="description"
        placeholder="Add description">
      </textarea>
      <div class="add-course-form__error" *ngIf="description.errors?.maxlength">*Description should not exceed 500
        symbols
      </div>
      <div class="add-course-form__error" *ngIf="description.errors?.required && description.touched">*Description is
        required
      </div>
    </div>

    <div class="add-course-form__field">
      <app-course-duration
        formControlName="length"
        [class.has-error]="length.touched && length.invalid"></app-course-duration>
      <div class="add-course-form__error" *ngIf="length.errors?.required && length.touched">*Duration is required</div>
      <div class="add-course-form__error" *ngIf="length.errors?.isNotNumber">*Is not a number</div>
    </div>

    <div class="add-course-form__field">
      <app-course-date
        formControlName="date"
        [class.has-error]="date.touched && date.invalid"></app-course-date>
        <div class="add-course-form__error" *ngIf="date.touched && date.errors?.required">*Date is required</div>
        <div class="add-course-form__error" *ngIf="date.errors?.formatIncorrect">*Format should be dd/MM/YYYY</div>
    </div>

    <app-course-authors
      (inputChange)="handleAuthors($event)">
    </app-course-authors>
    <div class="add-course-form__btn-group">
      <button class="add-course-form__cancel-btn" type="reset" (click)="closeAddForm()">Cancel</button>
      <button class="add-course-form__save-btn" type="submit">Save</button>
    </div>
  </form>
</div>
